<!DOCTYPE html>
<html lang="ms">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jemputan Majlis Perkahwinan</title>
<style>
/* BODY & OVERLAY */
body, html { margin:0; padding:0; width:100%; height:100%; font-family:'Georgia', serif; color:#1e3a5f; overflow-x:hidden; background: url('bg.jpg') center/cover no-repeat; }
.overlay { position:relative; z-index:2; background:rgba(255,255,255,0.3); min-height:100vh; padding:40px 20px; border-radius:25px; box-shadow:0 10px 30px rgba(0,0,0,0.2); text-align:center; }

/* INVITE FRAME */
.invite-frame { display:inline-block; padding:25px 30px; margin:20px auto; border:3px solid transparent; border-radius:25px; background: rgba(255,255,255,0.25); background-clip:padding-box; box-shadow:0 8px 25px rgba(0,0,0,0.15); position:relative; overflow:hidden; }
.invite-frame::before { content:""; position:absolute; top:-3px; left:-3px; right:-3px; bottom:-3px; border-radius:25px; background: linear-gradient(120deg,#d4af37,#f7e9a0,#fff8d0,#d4af37); background-size:300% 300%; animation:shine 6s linear infinite; z-index:-1; }
@keyframes shine {0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}
h1, .initials, .names, .date, .countdown { opacity:0; transform:translateY(30px); transition: all 1s ease; }
h1 { font-size:32px; margin-bottom:20px; letter-spacing:3px; font-weight:bold; }
.initials { font-size:80px; font-weight:bold; margin:10px 0; }
.names { font-size:28px; margin:5px 0 20px; font-weight:bold; }
.date, .countdown { font-size:16px; margin:8px 0; font-weight:600; }
.show{ opacity:1; transform:translateY(0); }

/* SLIDESHOW */
.slideshow-container { position:relative; max-width:90%; margin:20px auto; overflow:hidden; border-radius:15px; box-shadow:0 5px 15px rgba(0,0,0,0.15); }
.slideshow-container img { width:100%; height:auto; display:none; border-radius:15px; transition:opacity 1s ease-in-out; }
.slideshow-container img.active { display:block; opacity:1; }
.prev, .next { position:absolute; top:50%; transform:translateY(-50%); color:#fff; font-size:24px; padding:10px; border-radius:50%; background: rgba(0,0,0,0.3); cursor:pointer; user-select:none; z-index:10; }
.prev { left:10px; } .next { right:10px; }
.dots { text-align:center; margin-top:10px; }
.dot { display:inline-block; width:10px; height:10px; margin:0 5px; background:#ddd; border-radius:50%; cursor:pointer; }
.dot.active { background:#f4c542; }

/* PETALS */
#petals { position:fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:1; }
.petal { position: fixed; top: -10vh; background-image: url('petal.png'); background-size: contain; background-repeat: no-repeat; width:35px; height:35px; opacity:0.9; z-index:1; animation: fall linear infinite, glitter 1.5s ease-in-out infinite alternate; }
@keyframes fall {0%{transform:translateY(-10vh) rotateX(0deg) rotateY(0deg);opacity:1;}100%{transform:translateY(110vh) rotateX(360deg) rotateY(360deg);opacity:0.3;}}
@keyframes glitter {0%{box-shadow:0 0 0px rgba(255,255,255,0);}50%{box-shadow:0 0 10px rgba(255,255,255,0.6);}100%{box-shadow:0 0 0px rgba(255,255,255,0);}}

/* SECTION & CONTACT */
section { margin:30px 0 0 0; padding:20px; background: rgba(255,255,255,0.35); border-radius:15px; box-shadow:0 5px 15px rgba(0,0,0,0.1); opacity:0; transform:translateY(20px); transition: all 1s ease; line-height:1.6; }
ul { list-style:none; padding:0; font-size:15px; line-height:1.8; max-width:400px; margin:0 auto; text-align:left; }
.contact { margin:30px 0 0 0; padding:20px; background: rgba(255,255,255,0.35); border-radius:15px; box-shadow:0 4px 12px rgba(0,0,0,0.08); font-size:16px; line-height:1.6; }
.contact h2{ margin-bottom:10px; font-size:20px; color:#1e3a5f; }
.contact p{ margin:5px 0; }
.contact a{ color:#1e3a5f; text-decoration:none; font-weight:bold; }

/* RSVP MODAL */
#rsvp-modal{ position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); display:flex; justify-content:center; align-items:center; z-index:200; opacity:0; pointer-events:none; transition: all 0.4s ease; }
#rsvp-modal.show{ opacity:1; pointer-events:auto; }
#rsvp-modal .modal-content{ background:white; padding:20px; border-radius:15px; text-align:left; max-width:350px; width:90%; transform: scale(0.7); transition: transform 0.4s ease; }
#rsvp-modal.show .modal-content{ transform: scale(1); }
#rsvp-modal label{ display:block; margin:8px 0 4px; font-weight:bold; }
#rsvp-modal input, #rsvp-modal select{ width:100%; padding:6px; margin-bottom:12px; border-radius:5px; border:1px solid #ccc; }

/* MEDIA */
@media (max-width:480px){ h1{font-size:22px;} .initials{font-size:50px;} .names{font-size:18px;} .date,.countdown{font-size:12px;} .prev,.next{font-size:18px; padding:6px;} }
</style>
</head>
<body>

<!-- PETALS -->
<div id="petals"></div>

<!-- AUDIO -->
<audio id="bg-music" loop>
  <source src="lagu.mp3" type="audio/mpeg">
</audio>

<div class="overlay">
  <div class="invite-frame">
    <h1 id="title">Jemputan Majlis Perkahwinan</h1>
    <div class="initials" id="initials">O & A</div>
    <div class="names" id="names">Omar & Alia</div>
    <div class="date" id="date">22 . 08 . 2026</div>
    <div class="countdown" id="countdown"></div>

    <!-- SLIDESHOW -->
    <div class="slideshow-container" id="slideshow">
      <img src="pengantin1.jpg" class="active" alt="Pengantin 1">
      <img src="pengantin2.jpg" alt="Pengantin 2">
      <img src="pengantin3.jpg" alt="Pengantin 3">
      <img src="pengantin4.jpg" alt="Pengantin 4">
      <img src="pengantin5.jpg" alt="Pengantin 5">
      <span class="prev">&#10094;</span>
      <span class="next">&#10095;</span>
      <div class="dots">
        <span class="dot active"></span>
        <span class="dot"></span>
        <span class="dot"></span>
        <span class="dot"></span>
        <span class="dot"></span>
      </div>
    </div>
  </div>

  <section><h2>Atur Cara Majlis</h2>
    <ul>
      <li>11:00 AM â€“ Ketibaan Tetamu</li>
      <li>12:00 PM â€“ Jamuan Bermula</li>
      <li>2:00 PM â€“ Sesi Bergambar</li>
      <li>4:00 PM â€“ Majlis Tamat</li>
    </ul>
  </section>

  <section id="lokasi">
    <h2>Lokasi Majlis: Kampung Lihak-Lihak</h2>
    <iframe src="https://www.google.com/maps?q=Kampung+Lihak-Lihak,Semporna,Sabah,Malaysia&output=embed" width="100%" height="250" style="border:0; border-radius:10px;" allowfullscreen="" loading="lazy"></iframe>
    <p><a href="https://maps.app.goo.gl/NFDc4EYY1E2N9ppx5" target="_blank">Buka dalam Google Maps</a></p>
  </section>

  <section class="contact">
    <h2>Hubungi Kami</h2>
    <p>Email: <a href="mailto:mickeymikapple@gmail.com">mickeymikapple@gmail.com</a></p>
    <p>WhatsApp: <a href="https://wa.me/60149236577" target="_blank">Mik</a></p>
    <p>WhatsApp: <a href="https://wa.me/60166234337" target="_blank">Fazrinah</a></p>
  </section>
</div>

<!-- RSVP MODAL -->
<div id="rsvp-modal">
  <div class="modal-content">
    <h2>RSVP Jemputan</h2>
    <form id="rsvp-form">
      <label for="name">Nama:</label>
      <input type="text" id="name" required>
      <label for="attend">Hadir?</label>
      <select id="attend">
        <option value="ya">Ya</option>
        <option value="tidak">Tidak</option>
      </select>
      <button type="submit" style="background:#1a2e4b;color:white;padding:8px 16px;border:none;border-radius:10px;">Hantar</button>
    </form>
  </div>
</div>

<script>
// HEADER ANIMASI
['title','initials','names','date','countdown'].forEach((id,i)=>{
  setTimeout(()=>{ document.getElementById(id).classList.add('show'); }, i*500);
});

// COUNTDOWN
const countdown = document.getElementById("countdown");
const weddingDate = new Date("Jan 22, 2025 11:00:00").getTime();
function updateCountdown(){
  const now = new Date().getTime();
  const distance = weddingDate - now;
  if(distance < 0){ countdown.innerHTML = "Majlis telah bermula ðŸŽ‰"; return; }
  const days = Math.floor(distance / (1000*60*60*24));
  const hours = Math.floor((distance % (1000*60*60*24)) / (1000*60*60));
  const minutes = Math.floor((distance % (1000*60*60)) / (1000*60));
  const seconds = Math.floor((distance % (1000*60)) / 1000);
  countdown.innerHTML = `${days} Hari ${hours} Jam ${minutes} Minit ${seconds} Saat lagi`;
}
setInterval(updateCountdown,1000);
updateCountdown();

// AUDIO
const music = document.getElementById("bg-music");
document.body.addEventListener("click",()=>{ music.play().catch(()=>{}); }, {once:true});
music.volume = 0.5;

// PETALS
const petalsContainer = document.getElementById("petals");
function createPetal(){
  const petal = document.createElement("div");
  petal.classList.add("petal");
  petal.style.left = Math.random()*100 + "vw";
  petal.style.animationDuration = (5 + Math.random()*5) + "s";
  petal.style.opacity = 0.5 + Math.random()*0.5;
  const size = 25 + Math.random()*30;
  petal.style.width = size + "px";
  petal.style.height = size + "px";
  petal.style.transform = `rotateX(${Math.random()*360}deg) rotateY(${Math.random()*360}deg)`;
  petalsContainer.appendChild(petal);
  setTimeout(()=>{ petal.remove(); }, 12000);
}
setInterval(createPetal, 200);

// SLIDESHOW
let slideIndex=0;
const slides=document.querySelectorAll("#slideshow img");
const dots=document.querySelectorAll(".dot");
function showSlide(n){ slides.forEach(s=>s.classList.remove("active")); dots.forEach(d=>d.classList.remove("active")); slides[n].classList.add("active"); dots[n].classList.add("active"); }
function nextSlide(){ slideIndex=(slideIndex+1)%slides.length; showSlide(slideIndex); }
function prevSlide(){ slideIndex=(slideIndex-1+slides.length)%slides.length; showSlide(slideIndex); }
document.querySelector(".next").addEventListener("click", nextSlide);
document.querySelector(".prev").addEventListener("click", prevSlide);
dots.forEach((d,i)=>d.addEventListener("click",()=>{ slideIndex=i; showSlide(slideIndex); }));
setInterval(nextSlide,5000);

// SWIPE MOBILE
let touchStartX=0;
let touchEndX=0;
const slideshow=document.getElementById("slideshow");
slideshow.addEventListener('touchstart',e=>{ touchStartX=e.changedTouches[0].screenX; });
slideshow.addEventListener('touchend',e=>{ touchEndX=e.changedTouches[0].screenX; if(touchEndX<touchStartX-50) nextSlide(); if(touchEndX>touchStartX+50) prevSlide(); });

// SECTION OBSERVER
document.querySelectorAll("section").forEach(el=>{
  new IntersectionObserver(entries=>{ entries.forEach(entry=>{ if(entry.isIntersecting) entry.target.classList.add("show"); }); }, {threshold:0.2}).observe(el);
});

// RSVP - simpan ke Google Sheets
const rsvpBtn=document.createElement("button");
rsvpBtn.textContent="RSVP";
rsvpBtn.style.position="fixed"; 
rsvpBtn.style.bottom="20px"; 
rsvpBtn.style.right="20px";
rsvpBtn.style.background="#f4c542"; 
rsvpBtn.style.padding="12px 20px"; 
rsvpBtn.style.border="none"; 
rsvpBtn.style.borderRadius="50px";
rsvpBtn.style.cursor="pointer"; 
rsvpBtn.style.zIndex="100"; 
document.body.appendChild(rsvpBtn);

const rsvpModal=document.getElementById("rsvp-modal");
rsvpBtn.addEventListener("click",()=>{ 
  rsvpModal.classList.add("show"); 
});
rsvpModal.addEventListener("click",e=>{ 
  if(e.target===rsvpModal) rsvpModal.classList.remove("show"); 
});

document.getElementById("rsvp-form").addEventListener("submit",e=>{
  e.preventDefault();
  const name=document.getElementById("name").value;
  const attend=document.getElementById("attend").value;

  // URL Web App dari Google Apps Script (tukar yang bawah ni dengan URL anda sendiri)
  const scriptURL =
"https://script.google.com/macros/s/AKfycbwbm1I7B3U2ySj4AK77wVyRgtt3KGAC6Brz_m35DFthmERSmnzWDJ-vJaCI0fGoP1aUYg/exec";

  fetch(scriptURL, {
    method:"POST",
    body:JSON.stringify({ name, attend }),
    headers:{ "Content-Type":"application/json" }
  })
  .then(res=>res.text())
  .then(res=>{
    alert("Terima kasih! RSVP anda telah dihantar.");
    document.getElementById("rsvp-form").reset();
    rsvpModal.classList.remove("show");
  })
  .catch(err=>{
    alert("Maaf, ada masalah: " + err);
  });
});
</script>
</body>
</html>